<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_31) on Wed Mar 30 06:14:09 EDT 2016 -->
<title>Overview</title>
<meta name="date" content="2016-03-30">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script type="text/javascript" src="script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Overview";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-files/index-1.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<div class="subTitle">
<div class="block">CS262 Simple Chat Application</div>
</div>
<p>See: <a href="#overview.description">Description</a></p>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Packages table, listing packages, and an explanation">
<caption><span>Packages</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="chatclient/package-summary.html">chatclient</a></td>
<td class="colLast">
<div class="block">The chatclient package</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="chatserver/package-summary.html">chatserver</a></td>
<td class="colLast">
<div class="block">The chatserver package</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="contentContainer"><a name="overview.description">
<!--   -->
</a>
<div class="block"><h1>CS262 Simple Chat Application</h1><p>This project implements a simple client/server chat application using Java RMI. The application includes two packages, <a href="chatclient/package-summary.html"><code>chatclient</code></a> for the client and <a href="chatserver/package-summary.html"><code>chatserver</code></a> for the server.</p><p>The client is a simple terminal command parser and passes any command on to the server using an RMI RPC.</p><p>The server implements the core message routing and any auxilliary state required to fulfill that function, including keeping track of users, groups and queued but undelivered messages.</p><p>Finally, since the server needs to be able to asynchronously deliver messages to the client, a separate &lsquo;callback&rsquo; connection is kept between the chatclient and the chatserver, in which the <code>chatclient</code> acts as the server, accepting messages to be delivered to the user.</p><h1>Getting Started</h1><h2>Compiling the Application</h2><p>For those users, with a sensible development environment, a Makefile is provided that will automatically compile all required classes. However, installing manually is not very difficult either. The following instructions should work on both Windows and Unix-compatible systems, assuming the JDK is properly installed and available on the PATH.</p>
<pre><code class="no-highlight">    cd CS262Project
    javac chatclient/ClientCallback.java chatserver/ChatServer.java
    jar cvf chat.jar chatserver/ChatServer.class chatclient/ClientCallback.class
    javac -cp chat.jar chatserver/Server.java
    javac -cp chat.jar chatclient/Client.java
</code></pre><h2>Running the Application</h2><h3>Starting the <code>rmiregistry</code></h3><p>First you will need to ensure that the RMI registry is running on the server machine. By default the RMI registry will be bound to port 1999. On Windows, you may start the the RMI registry using <code>
start rmiregistry
</code> while on Unix-compatible systems <code>
rmiregistry &amp;
</code> should be sufficient. If port 1999 is unavailable or you wish to specify a different port, you can pass the desired port as an argument to <code>rmiregistry</code>.</p><h3>Running the ChatServer</h3><p>Before being able to run the ChatServer, you will have to adjust the policy file to match your system. Two template from the authors&rsquo; systems are provided in the toplevel directory. Pick either file and adjust the path to match your checkout&rsquo;s configuration. From now on, we will call this new policy file your.policy.</p><p>Now that the policy is created, you can launch the chatserver using</p>
<pre><code class="no-highlight">    java -cp chat.jar -Djava.rmi.server.codebase=file:chat.jar -Djava.rmi.server.hostname=&lt;hostname&gt; -Djava.security.policy=your.policy server.Server
</code></pre><p>where <code>&lt;hostname&gt;</code> should be replaced by a hostname that belongs to the server&rsquo;s host and is reachable from the client. If you are only interested in local connections, you may use <code>localhost</code> for <code>&lt;hostname&gt;</code>.</p><h3>Launching the ChatClinet</h3><p>Then, on the client machine, we can connect to this server by running</p>
<pre><code class="no-highlight">java -cp chat.jar -Djava.rmi.server.hostname=&lt;client-hostname&gt; -Djava.security.policy=Keno.policy client.ChatClient &lt;server-hostname&gt;
</code></pre><p>where <code>&lt;server-hostname&gt;</code> needs to be the same hostname as given to the server in the previous step and <code>&lt;client-hostname&gt;</code> must be one of the client host&rsquo;s hostnames that is reachable by the server.</p><p>The client should then be connected to the server and can begin chatting.</p><h1>User Manual</h1><p>On connecting, the user supplies an account name for the client. If it does not exist, it is created. If it does exist and there is an outstanding message queue, the messages are now to the client. After queued messages are delivered, the user may begin entering commands.</p><p>The valid commands are summarized in this table:</p>
<table>
  <thead>
    <tr>
      <th>Command </th>
      <th>Effect </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>AddAccount name </td>
      <td>Creates a new account named <code>name</code> on the server. It is an error to not specify a <code>name</code> or to specify a <code>name</code> that is already taken by an existing user or group. </td>
    </tr>
    <tr>
      <td>ListAccounts [query] </td>
      <td>Lists the account names of all user accounts that are currently known to the server. Optionally, the user may specify a regular expression against which to match the account name. Only matching accounts names will be returned. </td>
    </tr>
    <tr>
      <td>ListGroups [query] </td>
      <td>The functionality is identical to that of ListAccounts, with the exception that groups rather than user accounts are listed. </td>
    </tr>
    <tr>
      <td>AddGroup name </td>
      <td>Creates a new group with the name <code>name</code>. It is an error to not specify a <code>name</code> or to specify a <code>name</code> that is already taken by an existing user or group. </td>
    </tr>
    <tr>
      <td>AddGroupMember group member </td>
      <td>Adds the user account <code>member</code> to the group <code>group</code>. It is an error for <code>group</code> not to name a valid group or <code>member</code> not to name a valid user account. </td>
    </tr>
    <tr>
      <td>Send account [message] </td>
      <td>Sends the message <code>message</code> to the user or group <code>denoted</code> by <code>account</code>. Any (direct or indirect) recipient that is currently connected to the server will receive the message immediately. Any non-connected recipient will receive the message as soon as they re-connect to the server. </td>
    </tr>
    <tr>
      <td>DeleteAccount [name] </td>
      <td>Deletes the account designated by <code>[name]</code>. </td>
    </tr>
    <tr>
      <td>Logout </td>
      <td>Ends the current session </td>
    </tr>
    <tr>
      <td>^D </td>
      <td>Same effect as Logout </td>
    </tr>
  </tbody>
</table><p>Square brackets denote optional arguments.</p></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-files/index-1.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><script type="text/javascript" src="./highlight.pack.js"></script>
<script type="text/javascript"><!--
hljs.initHighlightingOnLoad();
//--></script></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
